#parse("/velocity/layout.vm")
#@mainLayout()
<nav class="top-nav">
	<div class="container">
  		<div class="nav-wrapper"><a class="page-title">Data</a></div>
    </div>
</nav>
<div class="container page-container">
	<div class="row">
    #foreach($dataItem in $data)
        <div class="col s12 m6">
	        <div class="card horizontal">
	        	<div class="card-image">
	        		#if($dataItem.getType()=="STREAM")
	        			<img src="/img/data_types/stream.png" class="tooltipped" data-tooltip="Stream Source">
	        		#elseif($dataItem.getType()=="STORE")
	        			<img src="/img/data_types/store.png" class="tooltipped" data-tooltip="External Store">
	        		#end
	      		</div>
	      		<div class="card-stacked">
		            <div class="card-content">
		              <span class="card-title">$displayTool.truncate($dataItem.getName(),20)</span>&nbsp;
		              <span class="card-subtitle grey-text">By $dataItem.getAuthor()</span>
		              <p #if($dataItem.getDescription().length()>50) class="tooltipped" data-tooltip="$dataItem.getDescription()"#end>$displayTool.truncate($dataItem.getDescription(),50)</p>
		            </div>
		            <div class="card-action">
		            	<a href="$WebPath.getDATA()$dataItem.getId()">More</a>
		              	<a href="$WebPath.getDATA()$dataItem.getId()">Map</a>
		              	<a href="$WebPath.getDATA()$dataItem.getId()">Query</a>
		            </div>
	            </div>
			</div>
        </div>
    #end
    </div>
</div>
<div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
	<a class="btn-floating btn-large waves-effect waves-light blue">
		<i class="material-icons">add</i>
	</a>
    <ul>
      <li><a href="$WebPath.getDATA()add/store/" class="btn-floating green tooltipped" data-position="left" data-tooltip="Add External Store"><i class="material-icons">work</i></a></li>
      <li><a href="$WebPath.getDATA()add/historical/" class="btn-floating yellow darken-1 tooltipped" data-position="left" data-tooltip="Add Historical Store from Stream"><i class="material-icons">input</i></a></li>
      <li><a href="$WebPath.getDATA()add/stream/" class="btn-floating red tooltipped" data-position="left" data-tooltip="Add Stream"><i class="material-icons">trending_flat</i></a></li>
    </ul>
  </div>
#end
